<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
		"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
			xmlns:h="http://java.sun.com/jsf/html"
			xmlns:p="http://primefaces.org/ui"
			xmlns:f="http://java.sun.com/jsf/core"
			xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
</h:head>

<h:body style="margin-left:50px">
	<h:form id="form">
		<h1>Search</h1>
		<div style="padding-top: 30px;">
			<p:inputText value="#{searchManagedBean.keyword}" placeholder="Search"/>
			<p:defaultCommand target="searchButton" />
			<p:commandButton id="searchButton"
											 action="#{searchManagedBean.searchAction}"
											 styleClass="searchButton"
											 update="customerTable filmTable"
											 icon="pi pi-search" />
		</div>
		<div style="padding-top: 30px;">
			<p:dataTable id="customerTable" value="#{searchManagedBean.customers}" stylClass="search-updatable" var="customer">
				<f:facet name="header">
					<h2>Customers</h2>
				</f:facet>
				<p:column headerText="Name">
					<h:outputText value="#{searchManagedBean.getName(customer)}" />
				</p:column>

				<p:column headerText="Phone">
					<h:outputText value="#{customer.phone}" />
				</p:column>

				<p:column headerText="Address">
					<h:outputText value="#{customersManagedBean.getAddress(customer)}" />
				</p:column>
			</p:dataTable>
		</div>
		<div style="padding-top: 30px;">
			<p:dataTable id="filmTable" value="#{searchManagedBean.films}" stylClass="search-updatable" var="film">
				<f:facet name="header">
					<h2>Films</h2>
				</f:facet>
				<p:column headerText="Title">
					<h:outputText value="#{film.title}" />
				</p:column>
				<p:column headerText="Category">
					<h:outputText value="#{film.category}" />
				</p:column>
				<p:column headerText="Rating">
					<h:outputText value="#{film.rating}" />
				</p:column>
				<p:column headerText="Description">
					<h:outputText value="#{film.description}" />
				</p:column>
				<p:column headerText="Actors">
					<p:repeat value="#{film.actors}" var="actor">
						<h:outputText value="#{actor.firstName} #{actor.lastName}" />
					</p:repeat>
				</p:column>
			</p:dataTable>
		</div>
	</h:form>
</h:body>
</html>